{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6d8f22b59ba969bd72bc","webpack:///./src/NUIScratcher.jsx","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./~/classnames/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/NUIScratcherClasses.jsx","webpack:///./src/brush.jsx","webpack:///./src/NUIScratcher.styl?3ae8","webpack:///./src/NUIScratcher.styl","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":["require","NUIScratcher","props","state","previewImageLoaded","largeImageLoaded","disableCanvas","isDrawing","setImageInCanvas","setBrushInCanvas","image","canvasWidth","canvasHeight","img","Image","ctx","canvas","getContext","onload","drawImage","crossOrigin","src","assets","default","brush","e","offsetX","offsetY","c","offsetParent","undefined","offsetLeft","offsetTop","x","pageX","touches","clientX","y","pageY","clientY","p1","p2","Math","sqrt","pow","atan2","percent","stride","strd","pixels","getImageData","pdata","data","l","length","total","count","i","parseInt","round","lastPoint","getMousePosition","preventDefault","currentPoint","dist","getDistanceBetween2Points","angle","getAngleBetween2Points","sin","cos","globalCompositeOperation","handlePercentage","getFilledInPixels","filledInPixels","fip","setState","Object","keys","hasImageData","NUIImageLayer","NUIImageRowWrapper","NUIImageRow","preload","NUIPreviewImage","mask","NUIDefaultImage","filter","getBlurForPreload","NUICanvasLayer","NUICanvas","handleMouseDown","handleMouseMove","handleMouseUp","displayName","propTypes","object","isRequired","number","defaultProps","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","push","Array","isArray","apply","key","call","join","module","exports","define","window","list","toString","result","item","modules","mediaQuery","alreadyImportedModules","id"],"mappings":"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CAACG,uBAAuBH,KAAK,CAAL,CAAvB,CAAnC,EAAoE;AACnE,SAAGE,cAAc,CAACF,KAAK,CAAL,CAAlB,EAA2B;AAC1BA,WAAK,CAAL,IAAUE,UAAV;AACA,MAFD,MAEO,IAAGA,UAAH,EAAe;AACrBF,WAAK,CAAL,IAAU,MAAMA,KAAK,CAAL,CAAN,GAAgB,SAAhB,GAA4BE,UAA5B,GAAyC,GAAnD;AACA;AACDL,UAAKX,IAAL,CAAUc,IAAV;AACA;AACD;AACD,GAxBD;AAyBA,SAAOH,IAAP;AACA,EA5CD,C;;;;;;ACLA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA","file":"rui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RUI\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"RUI\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6d8f22b59ba969bd72bc\n **/","/* eslint-env browser */\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\nimport { default as cn } from './NUIScratcherClasses';\nimport brush from './brush';\n\nrequire('./NUIScratcher.styl');\n\nclass NUIScratcher extends Component {\n\n  static displayName = 'NUIScratcher';\n\n  static propTypes = {\n    image: PropTypes.object.isRequired,\n    canvasWidth: PropTypes.number,\n    canvasHeight: PropTypes.number,\n  };\n\n  static defaultProps = {\n    image: {},\n    canvasWidth: 375,\n    canvasHeight: 265,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewImageLoaded: false,\n      largeImageLoaded: false,\n      disableCanvas: false,\n    };\n  }\n\n  componentWillMount() {\n    this.isDrawing = false;\n  }\n\n  componentDidMount() {\n    this.setImageInCanvas();\n    this.setBrushInCanvas();\n  }\n\n  setImageInCanvas() {\n    const { image } = this.props;\n    const { canvasWidth, canvasHeight } = this.state;\n    const img = new Image(canvasWidth, canvasHeight);\n    this.ctx = this.canvas.getContext('2d');\n    img.onload = () => this.ctx.drawImage(img, 0, 0, 375, 265);\n    img.crossOrigin = 'anonymous';\n    img.src = image.assets.default;\n  }\n\n  setBrushInCanvas() {\n    this.brush = new Image();\n    this.brush.src = brush;\n  }\n\n  getMousePosition(e, canvas) {\n    let offsetX = 0;\n    let offsetY = 0;\n    let c = canvas;\n    if (c.offsetParent !== undefined) {\n      do {\n        offsetX += c.offsetLeft;\n        offsetY += c.offsetTop;\n      } while ((c = c.offsetParent) !== null);\n    }\n    return {\n      x: (e.pageX || e.touches[0].clientX) - offsetX,\n      y: (e.pageY || e.touches[0].clientY) - offsetY,\n    };\n  }\n\n  getDistanceBetween2Points(p1, p2) {\n    return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n  }\n\n  getAngleBetween2Points(p1, p2) {\n    return Math.atan2(p2.x - p1.x, p2.y - p1.y);\n  }\n\n  getBlurForPreload(percent) {\n    return (100 - (percent * 100)) / 5;\n  }\n\n  getFilledInPixels(stride) {\n    const { canvasWidth, canvasHeight } = this.props;\n    const strd = !stride || stride < 1 ? 1 : stride;\n    const pixels = this.ctx.getImageData(0, 0, canvasWidth, canvasHeight);\n    const pdata = pixels.data;\n    const l = pdata.length;\n    const total = l / stride;\n    let count = 0;\n    for (let i = count = 0; i < l; i += strd) {\n      if (parseInt(pdata[i], 10) === 0) {\n        count++;\n      }\n    }\n    return Math.round((count / total) * 100);\n  }\n\n  handleMouseDown(e) {\n    this.isDrawing = true;\n    this.lastPoint = this.getMousePosition(e, this.canvas);\n    // console.log('>>> last point:', this.lastPoint);\n  }\n\n  handleMouseMove(e) {\n    if (!this.isDrawing) return;\n    e.preventDefault();\n    const currentPoint = this.getMousePosition(e, this.canvas);\n    const dist = this.getDistanceBetween2Points(this.lastPoint, currentPoint);\n    const angle = this.getAngleBetween2Points(this.lastPoint, currentPoint);\n    let x;\n    let y;\n    for (let i = 0; i < dist; i++) {\n      x = (this.lastPoint.x + (Math.sin(angle) * i)) - 10;\n      y = (this.lastPoint.y + (Math.cos(angle) * i)) - 10;\n      this.ctx.globalCompositeOperation = 'destination-out';\n      this.ctx.drawImage(this.brush, x, y, 20, 20);\n    }\n    this.lastPoint = currentPoint;\n    this.handlePercentage(this.getFilledInPixels(32));\n  }\n\n  handleMouseUp() {\n    this.isDrawing = false;\n  }\n\n  handlePercentage(filledInPixels) {\n    const fip = filledInPixels || 0;\n    if (fip > 50) {\n      this.setState({ disableCanvas: true });\n    }\n  }\n\n  hasImageData() {\n    return Object.keys(this.props.image).length > 0;\n  }\n\n  render() {\n    const { canvasWidth, canvasHeight } = this.props;\n    const { assets } = this.props.image;\n    const { previewImageLoaded, largeImageLoaded, disableCanvas } = this.state;\n    return (\n      <div className={classNames(cn.NUIScratcher)}>\n        {this.hasImageData() ?\n          <div className={classNames(cn.NUIImageLayer)}>\n            <div className={classNames(cn.NUIImageRowWrapper)}>\n              <div className={classNames(cn.NUIImageRow)}>\n                <img\n                  src={assets.preload}\n                  role=\"presentation\"\n                  onLoad={() => this.setState({ previewImageLoaded: true })}\n                  className={classNames(cn.NUIPreviewImage, previewImageLoaded ? 'loaded' : null)}\n                />\n                {previewImageLoaded ?\n                  <img\n                    src={assets.mask}\n                    role=\"presentation\"\n                    onLoad={() => this.setState({ largeImageLoaded: true })}\n                    className={classNames(cn.NUIDefaultImage, largeImageLoaded ? 'loaded' : null)}\n                    style={{ filter: `blur(${this.getBlurForPreload(1)}px)` }}\n                  /> :\n                  null\n                }\n              </div>\n            </div>\n          </div> :\n          null\n        }\n        <div className={classNames(cn.NUICanvasLayer)}>\n          {disableCanvas ?\n            null :\n            <canvas\n              ref={(c) => { this.canvas = c; }}\n              className={classNames(cn.NUICanvas)}\n              width={canvasWidth}\n              height={canvasHeight}\n              onMouseDown={::this.handleMouseDown}\n              onTouchStart={::this.handleMouseDown}\n              onMouseMove={::this.handleMouseMove}\n              onTouchMove={::this.handleMouseMove}\n              onMouseUp={::this.handleMouseUp}\n              onTouchEnd={::this.handleMouseUp}\n            />\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NUIScratcher;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/NUIScratcher.jsx\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n ** module id = 1\n ** module chunks = 0\n **/","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/classnames/index.js\n **/","module.exports = __webpack_amd_options__;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-options.js\n ** module id = 3\n ** module chunks = 0\n **/","export default {\n  NUIScratcher: {\n    'nui-scratcher': true,\n  },\n  NUIImageLayer: {\n    'nui-scratcher-image-layer': true,\n    'ncss-container': true,\n    'fixed-fluid': true,\n    'p0-sm': true,\n    'u-sm-t': true,\n    'u-full-height': true,\n  },\n  NUIImageRowWrapper: {\n    'u-sm-tc': true,\n    'u-align-center': true,\n    'u-sm-tr': true,\n  },\n  NUIImageRow: {\n    'nui-scratcher-image-row': true,\n    'ncss-row': true,\n    'u-align-center': true,\n    'p0-sm': true,\n    'm0-sm': true,\n  },\n  NUIPreviewImage: {\n    'nui-scratcher-preview-image': true,\n  },\n  NUIDefaultImage: {\n    'nui-scratcher-default-image': true,\n  },\n  NUICanvasLayer: {\n    'nui-scratcher-canvas-layer': true,\n  },\n  NUICanvas: {\n    'nui-scratcher-canvas': true,\n  },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/NUIScratcherClasses.jsx\n **/","const brush = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAxCAYAAABNuS5SAAAAGXRFW\nHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY\n2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6e\nD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxN\nS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xO\nTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wP\nSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94Y\nXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZ\nVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NO\nkluc3RhbmNlSUQ9InhtcC5paWQ6QjEwMzNCRUY2NjQzMTFFNkJEODA5QzEzQkM4Nzk5QjYiIHhtcE1NOkRvY3VtZ\nW50SUQ9InhtcC5kaWQ6QjEwMzNCRjA2NjQzMTFFNkJEODA5QzEzQkM4Nzk5QjYiPiA8eG1wTU06RGVyaXZlZEZyb\n20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMTAzM0JFRDY2NDMxMUU2QkQ4MDlDMTNCQzg3OTlCNiIgc3RSZ\nWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMTAzM0JFRTY2NDMxMUU2QkQ4MDlDMTNCQzg3OTlCNiIvPiA8L3JkZjpEZ\nXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtwZaCAAAANJSURBV\nHja7JtbSBRRGMfPtomEBaVI2cUuZhBpStAFCqIbFFnQS/UYVvhSoAVF0MUIihK6PAQ9RNHlwSx6CMHo9hBUEBGRE\nD1UblDRUmBE2m5E2/9jPmEYXVg9c/nOzHzwY2d3ds7u/jyX75w5JnK5nIpj5DEqVhALjAWaHKN1Lp49Y6ZJv3Us2\nAJKwA6wCzweOPku1eO/QOExBqwDt/l5K9hrO7/VLjBuwoODhJ0FZaABNDvO19oqUSKKAoscv6MRHHe0rmngEbgFk\no7ry8FE0AVqAukDA4iNYCV4CVaDbjAP1IF6fk8xeM5CKebnKWsWeAKq+Lg7rAJbWNJ3sL+A9+8ZRg2u4uPKMNbAU\nq5Fp3T6qAJjSlgEUp+0GKznjn+yT59rtMBFYA33bfVc8/yOSSYIpH7sPHgIzvCAsBssEfBHLDNB4AKwnNnGI5+UG\nG9CHljqSCEkRYkJAqsFj/hJ6QKTPEhIjb/SBbaBuYIFZiQLPMSzCcnRJ2kUPsfzUVr9WMoCpUe/FIGUkDZxnzeHB\nRYZIPCPFIF1XPsoVihzIi2lD6xW5gU13+tSauB0AwVuAg+k1MCpBon7oKzlsnvgn4QaWAFWGSDuMzgNLoKfuoW5K\nZBu4JQLFtcLLnCalXarULcE7gSbhYr7BS4rawmtx+3C3RBIS0FHhU7PrnFzfevVh7ghsIH7P7/iPkjxiL8QTLCdo\n5voHZzIvwJvvP4ybghc64M02oP3DJwAnbbX6Z7JMmWtalONa9WZVQQhkNKgGh++J90wPzjE61+4xnUE1U/o5oHUf\nCo9/o60VndV6tCuK7Cf8yov4z0nvaEU+NvLEY6jS2msGEsXWKG8vS35iRN0FVaBTXnmv5fATc2yb/AI+zHMAoda8\nzsGtoN9YAOPnpRi3BlGubTE3ixdnhtpjHP5iuaah/k4xXTyQNDOOWNWWTuo6NraPPKojK8GLExoC7TfT32hBu8CH\nYh2frzLj0/BOHBEWVs8aP9yMc8yWli8ioLAH9wHZnhBIVvgdVmG9sYcUNbOANq58E1Z+wBVVAT28uNJnnuOdLWES\nCsDQ3cQyXCtaVMRDV2BCU43+qIqULcJXwGvVYQjEf+3ZrBNOBYYK9CL/wIMAHIoisNugCztAAAAAElFTkSuQmCC`;\n\nexport default brush;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/brush.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./NUIScratcher.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./NUIScratcher.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./NUIScratcher.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/NUIScratcher.styl\n ** module id = 6\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".nui-scratcher {\\n  position: relative;\\n  width: 375px;\\n  height: 265px;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  user-select: none;\\n}\\n.nui-scratcher-canvas-layer {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n}\\n.nui-scratcher-image-layer {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.nui-scratcher-image-row {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  position: relative;\\n}\\n.nui-scratcher-image-row > img {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 auto;\\n  transition: opacity 500ms linear;\\n  opacity: 0;\\n  position: absolute;\\n}\\n.nui-scratcher-image-row > img.nui-scratcher-preview-image.loaded {\\n  opacity: 0.35;\\n}\\n.nui-scratcher-image-row > img.nui-scratcher-default-image.loaded {\\n  opacity: 1;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/stylus-loader!./src/NUIScratcher.styl\n ** module id = 7\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/css-loader/lib/css-base.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}